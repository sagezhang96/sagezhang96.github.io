<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Sageè‡ªç•™åœ°ğŸ˜</title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css">
<meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="Sageè‡ªç•™åœ°ğŸ˜" type="application/atom+xml">
</head>
<body>
    <div class="container">
        <header class="header">
    <div class="site-title">
        <a href="/">Sageè‡ªç•™åœ°ğŸ˜</a>
    </div>
    <div class="nav-toggle">
        <span></span>
        <span></span>
        <span></span>
    </div>
    <nav class="nav">
        <ul class="nav-list">
            
                
                    <li class="nav-item">
                        <a href="/">é¦–é¡µ</a>
                    </li>
                
            
                
                    <li class="nav-item has-children">
                        <a href="javascript:void(0);">æ–‡ç« </a>
                        <ul class="nav-submenu">
                            
                                <li class="nav-submenu-item">
                                    <a href="/archives">å½’æ¡£</a>
                                </li>
                            
                                <li class="nav-submenu-item">
                                    <a href="/categories">åˆ†ç±»</a>
                                </li>
                            
                                <li class="nav-submenu-item">
                                    <a href="/tags">æ ‡ç­¾</a>
                                </li>
                            
                        </ul>
                    </li>
                
            
                
                    <li class="nav-item">
                        <a href="/about">å…³äº</a>
                    </li>
                
            
        </ul>
    </nav>
</header>

        <div class="main-container">
            <main class="main-content">
                <article class="post-detail">
    <header class="post-header">
        <h1 class="post-title">ã€Hacking With Swiftã€‘Project4_BetterRest</h1>
        <div class="post-meta">
            <span class="post-date">
                2024-06-06
            </span>
            
                <span class="post-category">
                    <a class="category-link" href="/categories/%E6%8A%80%E6%9C%AF/">æŠ€æœ¯</a>
                </span>
            
            
                <span class="post-tags">
                    <a class="tag-none-link" href="/tags/Hacking-with-Swift/" rel="tag">Hacking with Swift</a> <a class="tag-none-link" href="/tags/Swift/" rel="tag">Swift</a> <a class="tag-none-link" href="/tags/%E7%BC%96%E7%A8%8B/" rel="tag">ç¼–ç¨‹</a>
                </span>
            
        </div>
    </header>

    <div class="post-content">
        <p><em><strong><font color=red>è‹±æ–‡åŸåšåšä¸»æ˜¯</font></strong></em>   <a target="_blank" rel="noopener" href="https://www.youtube.com/c/PaulHudson">Paul Hudson</a> Â Â  <i aria-hidden="true" class="fab fa-twitter" style="color: #4099ff"></i> <a href="https://twitter.com/twostraws" target="_blank">@twostraws</a></p>
<p><em><strong><font color=red>æœ¬æ–‡æ˜¯å­¦ä¹ Swiftè¿‡ç¨‹ä¸­ç¿»è¯‘è¯¥ç½‘ç«™çš„å†…å®¹:</font></strong></em>   <a target="_blank" rel="noopener" href="https://www.hackingwithswift.com/">https://www.hackingwithswift.com/</a></p>
<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>è¯¥é¡¹ç›®ä¸»è¦ç”¨äºäº†è§£IOSä¸­ä¸€é¡¹å¾ˆå¼ºå¤§çš„åŠŸèƒ½â€”â€”æœºå™¨å­¦ä¹ ã€‚</p>
<p>è¿ç”¨æœºå™¨å­¦ä¹ ï¼Œåˆ†ææ•°æ®ã€‚ä»è€Œé€šè¿‡æ¯å¤©æ‘„å…¥å’–å•¡é‡ï¼Œå¸Œæœ›é†’æ¥çš„æ—¶åˆ»ä»¥åŠæ‰€éœ€ç¡çœ é‡ï¼Œæ¥è®¡ç®—å‡ºä½•æ—¶åº”è¯¥ä¸ŠåºŠç¡è§‰äº†ã€‚</p>
<p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†é‡åˆ° <code>Stepper</code>ã€<code>DatePicker</code>ã€<code>DateFormatter</code>ç­‰å†…å®¹ã€‚</p>
<p>åœ¨ç¨‹åºä¸­ï¼Œéœ€è¦å¼•å¯¼ç”¨æˆ·è¾“å…¥ä¸€å¤©æ‘„å…¥çš„å’–å•¡é‡ã€éœ€è¦ç¡çœ çš„æ—¶é•¿ä»¥åŠå¸Œæœ›ä½•æ—¶é†’æ¥è¿™ä¸‰ä¸ªå˜é‡ï¼Œå¹¶å­˜å‚¨ä¸‹æ¥ã€‚å°†è¿™ä¸‰ä¸ªå˜é‡è¾“å…¥è¿›è®­ç»ƒå¥½çš„æ¨¡å‹è¿›è¡Œé¢„æµ‹ï¼Œé¢„æµ‹å¾—å‡ºå»ºè®®ä¸ŠåºŠç¡è§‰çš„æ—¶é—´ï¼Œå°†è¿™ä¸ªæ—¶é—´æ˜¾ç¤ºç»™ç”¨æˆ·ã€‚</p>
<h2 id="ä½¿ç”¨Stepperè¾“å…¥æ•°å­—"><a href="#ä½¿ç”¨Stepperè¾“å…¥æ•°å­—" class="headerlink" title="ä½¿ç”¨Stepperè¾“å…¥æ•°å­—"></a>ä½¿ç”¨Stepperè¾“å…¥æ•°å­—</h2><p>æˆ‘ä»¬ç”¨<code>Stepper</code>æ§ä»¶è¾“å…¥éœ€è¦ç¡çœ çš„æ—¶é•¿ï¼Œåˆ›å»ºä¸€ä¸ª<code>sleepAmount</code>å˜é‡</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> sleepAmount <span class="operator">=</span> <span class="number">8.0</span></span><br></pre></td></tr></table></figure>
<p>å¹¶ä¸ä¸€ä¸ªStepperæ˜¾ç¤ºçš„å€¼ç»‘å®šã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Stepper</span>(<span class="string">&quot;<span class="subst">\(sleepAmount)</span> hours&quot;</span>, value: <span class="variable">$sleepAmount</span>)</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥ä½¿ç”¨<code>in</code>å…³é”®å­—æ¥é™åˆ¶Stepperçš„è¾“å…¥èŒƒå›´ï¼Œå¹¶ä¸”è®¾å®šæ¯ä¸€æ¬¡ç‚¹å‡»æ•°å­—çš„å¢å‡é‡ï¼ˆæ­¥é•¿ï¼‰ã€‚å¦å¤–ç”±äº<code>sleepAmount</code>æ˜¯ä¸ªæµ®ç‚¹æ•°ï¼Œå¦‚æœä¸æƒ³åé¢æ˜¾ç¤ºä¸€å¤§ä¸²å°æ•°ï¼Œæ¯”å¦‚8.0000000ï¼Œå¯ä»¥ä½¿ç”¨<code>.formatted()</code>æ¥ç¾åŒ–ã€‚æ•´ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Stepper</span>(<span class="string">&quot;<span class="subst">\(sleepAmount.formatted())</span> hours&quot;</span>,value: <span class="variable">$sleepAmount</span>, in: <span class="number">4</span><span class="operator">...</span><span class="number">12</span>, step: <span class="number">0.25</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨DatePickeré€‰æ‹©æ—¥æœŸå’Œæ—¶é—´"><a href="#ä½¿ç”¨DatePickeré€‰æ‹©æ—¥æœŸå’Œæ—¶é—´" class="headerlink" title="ä½¿ç”¨DatePickeré€‰æ‹©æ—¥æœŸå’Œæ—¶é—´"></a>ä½¿ç”¨DatePickeré€‰æ‹©æ—¥æœŸå’Œæ—¶é—´</h2><p>SwiftUIæä¾›äº†ä¸€ä¸ªä¸“ç”¨çš„æ—¥æœŸæ—¶é—´é€‰æ‹©å™¨æ§ä»¶ï¼Œ<code>DatePicker</code>ã€‚åŒæ ·ä¹Ÿæœ‰ä¸€ä¸ªä¸“é—¨å¤„ç†æ—¥æœŸçš„ç±»å‹â€”â€”<code>Date</code>ã€‚</p>
<p>å¯ä»¥è¿™æ ·ä½¿ç”¨Dateç±»ä»¥åŠDatePickeræ§ä»¶ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> wakeUp <span class="operator">=</span> <span class="type">Date</span>.now</span><br></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">DatePicker</span>(<span class="string">&quot;Please enter a date&quot;</span>, selection: <span class="variable">$wakeUp</span>)</span><br></pre></td></tr></table></figure>
<p>â€œPlease enter a dateâ€æ˜¯è¿™ä¸ª<code>DatePicker</code>çš„æ ‡ç­¾ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åˆ é™¤ä»–ï¼Œä½†æ˜¯åˆ é™¤äº†ä¹‹åæ§ä»¶å·¦ä¾§ä¼šå‡ºç°å¤§é‡ç©ºç™½ï¼Œå¯¼è‡´è§‚æ„Ÿå¾ˆå·®ï¼Œè¿™æ—¶å€™å¯ä»¥ç”¨.labelHidden()å°†æ ‡ç­¾éšè—æ‰ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">DatePicker</span>(<span class="string">&quot;Please enter a date&quot;</span>, selection: <span class="variable">$wakeUp</span>)</span><br><span class="line">    .labelsHidden()</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><figcaption><span>.hourAndMinute```æ¥æ§åˆ¶ã€‚</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```swift</span><br><span class="line">DatePicker(&quot;Please enter a time&quot;, selection: $wakeUp, displayedComponents: .hourAndMinute)</span><br></pre></td></tr></table></figure>
<p>ä¸Stepperç±»ä¼¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>in</code>å…³é”®å­—æ¥æ§åˆ¶å¯é€‰æ—¥æœŸçš„èŒƒå›´ï¼Œè¿™æ—¶å€™éœ€è¦å€ŸåŠ©Dateç±»æ¥åˆ›å»ºèŒƒå›´ï¼Œæ¯”å¦‚ä¸‹é¢è¿™æ ·ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">exampleDates</span>() &#123;</span><br><span class="line">    <span class="comment">// create a second Date instance set to one day in seconds from now</span></span><br><span class="line">    <span class="keyword">let</span> tomorrow <span class="operator">=</span> <span class="type">Date</span>.now.addingTimeInterval(<span class="number">86400</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// create a range from those two</span></span><br><span class="line">    <span class="keyword">let</span> range <span class="operator">=</span> <span class="type">Date</span>.now<span class="operator">...</span>tomorrow</span><br><span class="line"></span><br><span class="line"><span class="type">DatePicker</span>(<span class="string">&quot;Please enter a date&quot;</span>, selection: <span class="variable">$wakeUp</span>, in: <span class="type">Date</span>.now<span class="operator">...</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å…³äºSwiftUIä¸­æ—¥æœŸçš„å¤„ç†"><a href="#å…³äºSwiftUIä¸­æ—¥æœŸçš„å¤„ç†" class="headerlink" title="å…³äºSwiftUIä¸­æ—¥æœŸçš„å¤„ç†"></a>å…³äºSwiftUIä¸­æ—¥æœŸçš„å¤„ç†</h2><p>ä¸Šé¢æåˆ°ï¼ŒSwiftæä¾›äº†ä¸€ä¸ªDateç±»ä¸“é—¨ç”¨äºå¤„ç†æ—¥æœŸï¼Œä½†æ˜¯å¦‚æœåªæƒ³è·å–Dateä¸­çš„æŸä¸€éƒ¨åˆ†ï¼Œæ¯”å¦‚houræˆ–æ˜¯minuteï¼Œå°±éœ€è¦å€ŸåŠ©å¦ä¸€ä¸ªå·¥å…·â€”â€”<code>DateComponents</code>ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦ä¸€ä¸ªä»£è¡¨ä»Šå¤©æ—©ä¸Š 8 ç‚¹çš„æ—¥æœŸï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> components <span class="operator">=</span> <span class="type">DateComponents</span>()</span><br><span class="line">components.hour <span class="operator">=</span> <span class="number">8</span></span><br><span class="line">components.minute <span class="operator">=</span> <span class="number">0</span></span><br><span class="line"><span class="keyword">let</span> date <span class="operator">=</span> <span class="type">Calendar</span>.current.date(from: components) <span class="operator">??</span> <span class="type">Date</span>.now <span class="comment">//å¦‚æœå¤±è´¥å°±è¿”å›å½“å‰æ—¥æœŸ</span></span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥è¿”å›ä¸€ä¸ªDateComponentså®ä¾‹ï¼Œç„¶åä»å®ä¾‹ä¸­æå–æˆ‘ä»¬æƒ³è¦çš„éƒ¨åˆ†ï¼Œå½“ç„¶ï¼Œå¯ä»¥é™åˆ¶è¿”å›çš„è¿™ä¸ªå®ä¾‹åªåŒ…å«å°æ—¶å’Œåˆ†é’Ÿï¼Œè¿™æ ·å°±å¯ä»¥å¯¹åº”ä¸ŠDatePickerä¸­çš„æ—¥æœŸäº†ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> components <span class="operator">=</span> <span class="type">Calendar</span>.current.dateComponents([.hour, .minute], from: someDate)</span><br><span class="line"><span class="keyword">let</span> hour <span class="operator">=</span> components.hour <span class="operator">??</span> <span class="number">0</span></span><br><span class="line"><span class="keyword">let</span> minute <span class="operator">=</span> components.minute <span class="operator">??</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>
<p>æœ€åæ˜¯å¦‚ä½•æ ¼å¼åŒ–æ—¥æœŸè¿˜æœ‰æ—¶é—´ï¼Œæœ‰ä¸¤ç§æ–¹æ³•ï¼šä¸€ç§ä½¿ç”¨formatå‚æ•°ï¼Œä¸€ç§ä½¿ç”¨<code>.formatted()</code>ã€‚ä¾‹å¦‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Text</span>(<span class="type">Date</span>.now, format: .dateTime.hour().minute())       <span class="comment">//ä½¿ç”¨formatå‚æ•°ï¼Œè·å–å°æ—¶å’Œåˆ†é’Ÿ</span></span><br><span class="line"><span class="type">Text</span>(<span class="type">Date</span>.now, format: .dateTime.day().month().year())  <span class="comment">//ä½¿ç”¨formatå‚æ•°ï¼Œè·å–å¹´æœˆæ—¥</span></span><br><span class="line"><span class="type">Text</span>(<span class="type">Date</span>.now.formatted(date: .long, time: .shortened)) <span class="comment">//ä½¿ç”¨.formatted()ï¼Œè®©æ—¥æœŸå’Œæ—¶é—´æŒ‰ç…§ç³»ç»Ÿä¸­å†…ç½®çš„å‡ ç§æ–¹å¼æ˜¾ç¤º</span></span><br></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨Create-MLè®­ç»ƒæ¨¡å‹"><a href="#ä½¿ç”¨Create-MLè®­ç»ƒæ¨¡å‹" class="headerlink" title="ä½¿ç”¨Create MLè®­ç»ƒæ¨¡å‹"></a>ä½¿ç”¨Create MLè®­ç»ƒæ¨¡å‹</h2><p>ä½¿ç”¨Create MLè®­ç»ƒæ¨¡å‹çš„æ­¥éª¤ï¼š</p>
<ul>
<li>å·¦ä¸Šè§’Xcodeèœå•â€”â€”Open Developer Tool â€”â€” Create ML</li>
<li>ç‚¹å‡»new documentï¼Œä¼šæ‰“å¼€éå¸¸å¤šçš„æ¨¡æ¿ï¼Œåœ¨è¿™ä¸ªé¡¹ç›®ä¸­æˆ‘ä»¬é€‰æ‹©Tabular Regression</li>
<li>ç‚¹å‡»ä¸‹ä¸€æ­¥ï¼Œä¼šè¦æ±‚è¾“å…¥é¡¹ç›®åç§°ï¼Œæˆ‘ä»¬è¾“å…¥BetterRestã€‚ç„¶åé€‰æ‹©ä¸€ä¸ªä½ç½®ç‚¹å‡»ä¿å­˜ã€‚</li>
<li>ç•Œé¢ä¸­ä¼šå‡ºç°ä¸€äº›éœ€è¦é…ç½®çš„æ¡†å›¾ã€‚æˆ‘ä»¬éœ€è¦æ·»åŠ è®­ç»ƒæ•°æ®ï¼Œç‚¹å‡»training Dateä¸‹çš„Chooseï¼Œé€‰æ‹©ä¸€ä¸ªcsvæ–‡ä»¶ã€‚æ­¤æ—¶æˆ‘ä»¬è¿˜æ²¡æœ‰é€‰æ‹©æˆ‘ä»¬çš„ç›®æ ‡targetã€‚</li>
<li>ç‚¹å‡»ä¸‹æ–¹çš„targetï¼Œç³»ç»Ÿä¼šä»training dataä¸­è§£æå‡ºä¸€äº›å‚æ•°ï¼Œæˆ‘ä»¬é€‰æ‹©actual sleep</li>
<li>åŒæ ·çš„ï¼Œåœ¨featuresé‡Œï¼Œé€‰æ‹©å…¶ä»–çš„ä¸€äº›å‚æ•°ï¼Œè¿™é‡Œæ˜¯wakeï¼Œestimatedsleepä»¥åŠcoffeeã€‚</li>
<li>åœ¨ä¸‹æ–¹çš„parametersä¸­ï¼Œé€‰æ‹©ä¸€ä¸ªç®—æ³•ï¼Œæˆ‘ä»¬è¿™é‡Œä½¿ç”¨é»˜è®¤çš„ç®—æ³•ï¼ˆè‡ªåŠ¨é€‰æ‹©ï¼‰ã€‚</li>
<li>ä¸‡äº‹ä¿±å¤‡äº†ï¼Œæ¥ä¸‹æ¥ç‚¹å‡»å·¦ä¸Šè§’çš„trainæŒ‰é’®ï¼Œä½ å¯ä»¥åœ¨trainingçš„tabé¡µä¸­æŸ¥çœ‹è¿›åº¦ï¼Œç­‰å¾…ä¸€æ®µæ—¶é—´åï¼Œè®­ç»ƒå®Œæˆã€‚</li>
<li>åœ¨evaluateçš„tabé¡µä¸­ï¼Œå¯ä»¥æŸ¥çœ‹æœ€ç»ˆçš„è®­ç»ƒéªŒè¯ç»“æœï¼Œé‡Œé¢ç»™å‡ºäº†maximum errorå’Œroot mean square errorã€‚</li>
<li>ç‚¹å‡»output tabé¡µï¼Œå¯ä»¥çœ‹åˆ°è¿™é‡Œå·²ç»ç”Ÿæˆäº†ä¸€ä¸ªæ¨¡å‹æ–‡ä»¶ã€‚ç‚¹å‡»getï¼Œå°†æ¨¡å‹æ–‡ä»¶ä¿å­˜ä¸‹æ¥ï¼Œè¿™æ ·æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­å¯ä»¥ä½¿ç”¨å®ƒã€‚</li>
<li>æˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ‡æ¢ç®—æ³•ï¼Œç‚¹å‡»å·¦ä¾§çª—å£çš„æ¨¡å‹æºï¼Œç„¶åé€‰æ‹©å¤åˆ¶ï¼Œé‡æ–°è¿›è¡Œè®­ç»ƒã€‚</li>
</ul>
<h2 id="å¼€å§‹æ„å»ºåº”ç”¨ç¨‹åº"><a href="#å¼€å§‹æ„å»ºåº”ç”¨ç¨‹åº" class="headerlink" title="å¼€å§‹æ„å»ºåº”ç”¨ç¨‹åº"></a>å¼€å§‹æ„å»ºåº”ç”¨ç¨‹åº</h2><p>ç°åœ¨æˆ‘ä»¬å·²ç»åšå¥½äº†å‡†å¤‡ï¼Œå°†å‰é¢æåˆ°çš„é‚£äº›æˆ‘ä»¬éœ€è¦çš„ç»„ä»¶æ”¾ç½®åœ¨ç•Œé¢ä¸Šã€‚</p>
<p>æœ€å…³é”®çš„æ­¥éª¤æ˜¯ï¼Œå¦‚ä½•åˆ©ç”¨æˆ‘ä»¬è®­ç»ƒå¥½çš„æ¨¡å‹è®¡ç®—ä½•æ—¶ä¸ŠåºŠç¡è§‰ã€‚</p>
<p>åœ¨IOS17åï¼Œæˆ‘ä»¬éœ€è¦å…ˆ<code>import CoreML</code>ï¼Œç„¶ååœ¨å‡½æ•°ä¸­å¼•å…¥æ¨¡å‹ã€‚<br>åœ¨calculateBedtimeå‡½æ•°ä¸­ï¼Œæˆ‘ä»¬è¦è¿™æ ·å†™</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">calculateBedtime</span>() -&gt; <span class="type">String</span> &#123;</span><br><span class="line">       <span class="comment">//let model = SleepCalculator()</span></span><br><span class="line">       <span class="keyword">let</span> model: <span class="type">SleepCalculator</span> <span class="operator">=</span> &#123;</span><br><span class="line">           <span class="keyword">do</span> &#123;</span><br><span class="line">               <span class="keyword">let</span> config <span class="operator">=</span> <span class="type">MLModelConfiguration</span>()</span><br><span class="line">               <span class="keyword">return</span> <span class="keyword">try</span> <span class="type">SleepCalculator</span>(configuration: config)</span><br><span class="line">           &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">               <span class="comment">//return &quot;Error&quot;</span></span><br><span class="line">               <span class="comment">//print(error)</span></span><br><span class="line">               <span class="built_in">fatalError</span>(<span class="string">&quot;Couldn&#x27;t create SleepCalculator&quot;</span>)</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;()</span><br><span class="line">       </span><br><span class="line">       <span class="keyword">let</span> componenets <span class="operator">=</span> <span class="type">Calendar</span>.current.dateComponents([.hour, .minute], from: wakeUp)</span><br><span class="line">       <span class="keyword">let</span> hour <span class="operator">=</span> (componenets.hour <span class="operator">??</span> <span class="number">0</span>) <span class="operator">*</span> <span class="number">60</span> <span class="operator">*</span> <span class="number">60</span></span><br><span class="line">       <span class="keyword">let</span> minute <span class="operator">=</span> (componenets.minute <span class="operator">??</span> <span class="number">0</span>) <span class="operator">*</span> <span class="number">60</span></span><br><span class="line">       </span><br><span class="line">       <span class="keyword">do</span> &#123;</span><br><span class="line">           <span class="keyword">let</span> prediction <span class="operator">=</span> <span class="keyword">try</span> model.prediction(wake: <span class="type">Double</span>(hour <span class="operator">+</span> minute), estimatedSleep: sleepAmount, coffee: <span class="type">Double</span>(coffeeAmount))</span><br><span class="line">           <span class="keyword">let</span> sleepTime <span class="operator">=</span> wakeUp <span class="operator">-</span> prediction.actualSleep</span><br><span class="line">           </span><br><span class="line">           <span class="keyword">let</span> formatter <span class="operator">=</span> <span class="type">DateFormatter</span>()</span><br><span class="line">           formatter.timeStyle <span class="operator">=</span> .short</span><br><span class="line">           </span><br><span class="line">           </span><br><span class="line">           <span class="keyword">return</span>  formatter.string(from: sleepTime)</span><br><span class="line">       &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">           </span><br><span class="line">           <span class="keyword">return</span> <span class="string">&quot;Error&quot;</span></span><br><span class="line">       &#125;</span><br><span class="line">       </span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨do&#x2F;catchä»£ç å—æ˜¯å› ä¸ºåœ¨ä½¿ç”¨CoreMLçš„æ—¶å€™ä¼šåœ¨åŠ è½½æ¨¡å‹ä»¥åŠä½¿ç”¨æ¨¡å‹é¢„æµ‹çš„æ—¶å€™æŠ›å‡ºé”™è¯¯ï¼Œè¿™æ ·åšæ˜¯ä¸ºäº†ä¿è¯ç¨‹åºçš„å®‰å…¨ä¸ä¼šå‡ºé”™ã€‚</p>
<p>æ¨¡å‹è¿”å›çš„æ˜¯ä¸€ä¸ªDoubleæ•°ï¼Œæ‹¿wakeUpç›´æ¥å‡å»<code>prediction.actualSleep</code>å°±èƒ½å¤Ÿå¾—åˆ°sleeptimeäº†ã€‚æ³¨æ„è¿™é‡ŒwakeUPæ˜¯ä¸€ä¸ªDateå€¼ï¼ŒAppleå¼ºå¤§çš„APIä½¿æˆ‘ä»¬å¯ä»¥ç›´æ¥æ‹¿è¿™ä¸ªDateå€¼å‡å»ä¸€ä¸ªå€¼ç„¶åå¾—åˆ°ä¸€ä¸ªæ–°çš„Dateã€‚</p>
<p>æœ€åæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæç¤ºæ¡†ï¼Œç”¨æ¥æ˜¾ç¤ºæˆ‘ä»¬çš„é¢„æµ‹ã€‚åˆ›å»ºæç¤ºæ¡†çš„æ ‡é¢˜ï¼Œä¿¡æ¯ä»¥åŠæ˜¯å¦æ˜¾ç¤ºç­‰å˜é‡ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> alertTitle <span class="operator">=</span> <span class="string">&quot;&quot;</span></span><br><span class="line"><span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> alertMessage <span class="operator">=</span> <span class="string">&quot;&quot;</span></span><br><span class="line"><span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> showingAlert <span class="operator">=</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<p>æ— è®ºé¢„æµ‹æ˜¯å¦æˆåŠŸï¼Œæˆ‘ä»¬éƒ½åº”è¯¥ç»™ç”¨æˆ·æç¤ºï¼Œå› æ­¤å°†ä¸‹é¢çš„ä»£ç æ”¾å…¥é¢„æµ‹ä¹‹åçš„catchä»£ç å—ä¸­</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">showingAlert <span class="operator">=</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœé¢„æµ‹æˆåŠŸï¼Œæˆ‘ä»¬å°†æç¤ºçš„æ ‡é¢˜å’Œå†…å®¹æ”¹ä¸º</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">alertTitle <span class="operator">=</span> <span class="string">&quot;Your ideal bedtime isâ€¦&quot;</span></span><br><span class="line">alertMessage <span class="operator">=</span> sleepTime.formatted(date: .omitted, time: .shortened)</span><br></pre></td></tr></table></figure>
<p>å¦‚æœé¢„æµ‹å¤±è´¥ï¼Œåˆ™</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">alertTitle <span class="operator">=</span> <span class="string">&quot;Error&quot;</span></span><br><span class="line">alertMessage <span class="operator">=</span> <span class="string">&quot;Sorry, there was a problem calculating your bedtime.&quot;</span></span><br></pre></td></tr></table></figure>

<p>æœ€åï¼Œæˆ‘ä»¬å°†ä¸‹æ–¹çš„ä¿®é¥°ç¬¦æ·»åŠ åˆ°VStackä¸­ï¼Œå°±å®Œæˆäº†æç¤ºæ¡†éƒ¨åˆ†çš„å¼€å‘ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.alert(alertTitle, isPresented: <span class="variable">$showingAlert</span>) &#123;</span><br><span class="line">    <span class="type">Button</span>(<span class="string">&quot;OK&quot;</span>) &#123; &#125;</span><br><span class="line">&#125; message: &#123;</span><br><span class="line">    <span class="type">Text</span>(alertMessage)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ"><a href="#ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ" class="headerlink" title="ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ"></a>ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ</h2><p>æœ¬é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ç”¨æˆ·é€‰æ‹©å¸Œæœ›é†’æ¥çš„æ—¶é—´çš„æ—¶å€™ï¼Œç”±äºæˆ‘ä»¬ç»™å‡ºäº†<code>Date.now</code>ï¼Œæ‰€ä»¥æ˜¯ä»ç°åœ¨çš„æ—¶é—´å¼€å§‹é€‰æ‹©ã€‚ä½†å¤§å¤šæ•°äººå¸Œæœ›é†’æ¥çš„æ—¶é—´åœ¨æ—©ä¸Š6ç‚¹å’Œ8ç‚¹ä¹‹é—´ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªé»˜è®¤çš„é†’æ¥æ—¶é—´ä¾›ç”¨æˆ·é€‰æ‹©ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> defaultWakeTime: <span class="type">Date</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> components <span class="operator">=</span> <span class="type">DateComponents</span>()</span><br><span class="line">    components.hour <span class="operator">=</span> <span class="number">7</span></span><br><span class="line">    components.minute <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">return</span> <span class="type">Calendar</span>.current.date(from: components) <span class="operator">??</span> .now</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> wakeUp <span class="operator">=</span> defaultWakeTime</span><br></pre></td></tr></table></figure>
<p>æœ€åä¸€è¡Œä»£ç ä¼šå‡ºé”™ï¼Œå› ä¸ºæˆ‘ä»¬æ­£åœ¨ä»å¦ä¸€ä¸ªå±æ€§å†…éƒ¨è®¿é—®ä¸€ä¸ªå±æ€§ã€‚å¯ä»¥å°†defaultWakeTimeè®¾ç½®ä¸ºä¸€ä¸ªé™æ€å˜é‡ï¼Œè¿™æ ·å®ƒä¸ä¾èµ–äºä»»ä½•å…¶ä»–å±æ€§ï¼Œè€Œæ˜¯å±äºç»“æ„æœ¬èº«ï¼Œå°±ä¸ä¼šæŠ¥é”™äº†ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">var</span> defaultWakeTime: <span class="type">Date</span></span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªé¡¹ç›®å°±åŸºæœ¬å®Œæˆäº†ï¼</p>
<p>å®Œæ•´ä»£ç </p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"><span class="keyword">import</span> CoreML</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ContentView</span>: <span class="title class_">View</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> defaultWakeTime: <span class="type">Date</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> components <span class="operator">=</span> <span class="type">DateComponents</span>()</span><br><span class="line">        components.hour <span class="operator">=</span> <span class="number">7</span></span><br><span class="line">        components.minute <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">return</span> <span class="type">Calendar</span>.current.date(from: components) <span class="operator">??</span> .now</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> sleepAmount <span class="operator">=</span> <span class="number">8.0</span></span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> wakeUp <span class="operator">=</span> defaultWakeTime</span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> coffeeAmount <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">    </span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> alertTitle <span class="operator">=</span> <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> alertMessage <span class="operator">=</span> <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> showingAlert <span class="operator">=</span> <span class="literal">false</span></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">NavigationStack</span>&#123;</span><br><span class="line">            <span class="type">Form</span> &#123;</span><br><span class="line">                <span class="type">VStack</span>(alignment: .leading)&#123;</span><br><span class="line">                    <span class="type">Text</span>(<span class="string">&quot;When do you want to wake up?&quot;</span>)</span><br><span class="line">                                .font(.headline)</span><br><span class="line">                    <span class="type">DatePicker</span>(<span class="string">&quot;Please enter a time&quot;</span>, selection: <span class="variable">$wakeUp</span>, displayedComponents: .hourAndMinute)</span><br><span class="line">                        .labelsHidden()</span><br><span class="line">                    <span class="type">Text</span>(<span class="string">&quot;Desired amount of sleep&quot;</span>)</span><br><span class="line">                        .font(.headline)</span><br><span class="line"></span><br><span class="line">                    <span class="type">Stepper</span>(<span class="string">&quot;<span class="subst">\(sleepAmount.formatted())</span> hours&quot;</span>, value: <span class="variable">$sleepAmount</span>, in: <span class="number">4</span><span class="operator">...</span><span class="number">12</span>, step: <span class="number">0.25</span>)</span><br><span class="line">                    <span class="type">Text</span>(<span class="string">&quot;Daily coffe intake&quot;</span>)</span><br><span class="line">                        .font(.headline)</span><br><span class="line"></span><br><span class="line">                    <span class="type">Stepper</span>(<span class="string">&quot;^[<span class="subst">\(coffeeAmount)</span> cup](inflect: true)&quot;</span>, value: <span class="variable">$coffeeAmount</span>, in: <span class="number">1</span><span class="operator">...</span><span class="number">10</span>, step: <span class="number">1</span>)</span><br><span class="line">                &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="type">VStack</span>&#123;</span><br><span class="line">                    </span><br><span class="line">                &#125;</span><br><span class="line">                <span class="type">VStack</span>&#123;</span><br><span class="line">                    </span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            .alert(alertTitle, isPresented: <span class="variable">$showingAlert</span>) &#123;</span><br><span class="line">                <span class="type">Button</span>(<span class="string">&quot;OK&quot;</span>) &#123; &#125;</span><br><span class="line">            &#125; message: &#123;</span><br><span class="line">                <span class="type">Text</span>(alertMessage)</span><br><span class="line">            &#125;</span><br><span class="line">            .navigationTitle(<span class="string">&quot;BetterRest&quot;</span>)</span><br><span class="line">            .toolbar&#123;</span><br><span class="line">                <span class="type">Button</span>(<span class="string">&quot;Calculate&quot;</span>, action: calculateBedtime)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">calculateBedtime</span>() &#123;</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> config <span class="operator">=</span> <span class="type">MLModelConfiguration</span>()</span><br><span class="line">            <span class="keyword">let</span> model <span class="operator">=</span> <span class="keyword">try</span> <span class="type">SleepCalculator</span>(configuration: config)</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">let</span> components <span class="operator">=</span> <span class="type">Calendar</span>.current.dateComponents([.hour, .minute], from: wakeUp)</span><br><span class="line">            <span class="keyword">let</span> hour <span class="operator">=</span> (components.hour <span class="operator">??</span> <span class="number">0</span>) <span class="operator">*</span> <span class="number">60</span> <span class="operator">*</span> <span class="number">60</span></span><br><span class="line">            <span class="keyword">let</span> minute <span class="operator">=</span> (components.minute <span class="operator">??</span> <span class="number">0</span>) <span class="operator">*</span> <span class="number">60</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">let</span> prediction <span class="operator">=</span> <span class="keyword">try</span> model.prediction(wake: <span class="type">Int64</span>(<span class="type">Double</span>(hour <span class="operator">+</span> minute)), estimatedSleep: sleepAmount, coffee: <span class="type">Int64</span>(<span class="type">Double</span>(coffeeAmount)))</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">let</span> sleepTime <span class="operator">=</span> wakeUp <span class="operator">-</span> prediction.actualSleep</span><br><span class="line">            </span><br><span class="line">            alertTitle <span class="operator">=</span> <span class="string">&quot;Your ideal bedtime isâ€¦&quot;</span></span><br><span class="line">            alertMessage <span class="operator">=</span> sleepTime.formatted(date: .omitted, time: .shortened)</span><br><span class="line">            showingAlert <span class="operator">=</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">        &#125;<span class="keyword">catch</span> &#123;</span><br><span class="line">            alertTitle <span class="operator">=</span> <span class="string">&quot;Error&quot;</span></span><br><span class="line">            alertMessage <span class="operator">=</span> <span class="string">&quot;Sorry, there was a problem calculating your bedtime.&quot;</span></span><br><span class="line">            showingAlert <span class="operator">=</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#<span class="type">Preview</span> &#123;</span><br><span class="line">    <span class="type">ContentView</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
    </div>

    <footer class="post-footer">
        <div class="post-nav">
            
                <div class="post-nav-prev">
                    <span>ä¸Šä¸€ç¯‡</span>
                    <a href="/article/41438.html">ã€Hacking With Swiftã€‘project5_WordScramble</a>
                </div>
            
            
                <div class="post-nav-next">
                    <span>ä¸‹ä¸€ç¯‡</span>
                    <a href="/article/41590.html">ã€Hacking With Swiftã€‘Project3_ViewsAndModels</a>
                </div>
            
        </div>
    </footer>

    
        <div class="post-comments">
            <h3 class="comments-title">è¯„è®º</h3>
            <div id="waline"></div>
        </div>
    
</article>


    <script type="module">
        import { init } from 'https://unpkg.com/@waline/client@v3/dist/waline.js';

        init({
            el: '#waline',
            serverURL: 'https://walinecomments.five2fire.top',
            dark: 'auto',
            lang: 'zh-CN',
            pageview: true,
            comment: true,
            emoji: ["https://unpkg.com/@waline/emojis@1.1.0/weibo","https://unpkg.com/@waline/emojis@1.1.0/bilibili"]
        });
    </script>
    <link rel="stylesheet" href="https://unpkg.com/@waline/client@v3/dist/waline.css" />



            </main>
        </div>
        
    </div>
    
<script src="/js/main.js"></script>

    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js" onload="renderMathInElement(document.body);"></script>
</body>
</html>
