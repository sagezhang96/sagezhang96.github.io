<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Sageè‡ªç•™åœ°ğŸ˜</title>
    
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="Sageè‡ªç•™åœ°ğŸ˜" type="application/atom+xml">
</head>
<body>
    <div class="container">
        <header class="header">
    <div class="site-title">
        <a href="/">Sageè‡ªç•™åœ°ğŸ˜</a>
    </div>
    <div class="nav-toggle">
        <span></span>
        <span></span>
        <span></span>
    </div>
    <nav class="nav">
        <ul class="nav-list">
            
                
                    <li class="nav-item">
                        <a href="/">é¦–é¡µ</a>
                    </li>
                
            
                
                    <li class="nav-item has-children">
                        <a href="javascript:void(0);">æ–‡ç« </a>
                        <ul class="nav-submenu">
                            
                                <li class="nav-submenu-item">
                                    <a href="/archives">å½’æ¡£</a>
                                </li>
                            
                                <li class="nav-submenu-item">
                                    <a href="/categories">åˆ†ç±»</a>
                                </li>
                            
                                <li class="nav-submenu-item">
                                    <a href="/tags">æ ‡ç­¾</a>
                                </li>
                            
                        </ul>
                    </li>
                
            
                
                    <li class="nav-item">
                        <a href="/about">å…³äº</a>
                    </li>
                
            
        </ul>
    </nav>
</header>

        <div class="main-container">
            <main class="main-content">
                <div class="main-content">
    <article class="post-detail">
        <header class="post-header">
            <h1 class="post-title">ã€Hacking With Swiftã€‘project5_WordScramble</h1>
            <div class="post-meta">
                <span class="post-date">
                    2024-06-14
                </span>
                
                    <span class="post-category">
                        <a class="category-link" href="/categories/%E6%8A%80%E6%9C%AF/">æŠ€æœ¯</a>
                    </span>
                
                
                    <span class="post-tags">
                        <a class="tag-none-link" href="/tags/Hacking-with-Swift/" rel="tag">Hacking with Swift</a> <a class="tag-none-link" href="/tags/Swift/" rel="tag">Swift</a> <a class="tag-none-link" href="/tags/%E7%BC%96%E7%A8%8B/" rel="tag">ç¼–ç¨‹</a>
                    </span>
                
            </div>
        </header>

        <div class="post-content">
            <p><em><strong><font color=red>è‹±æ–‡åŸåšåšä¸»æ˜¯</font></strong></em>   <a target="_blank" rel="noopener" href="https://www.youtube.com/c/PaulHudson">Paul Hudson</a> Â Â  <i aria-hidden="true" class="fab fa-twitter" style="color: #4099ff"></i> <a href="https://twitter.com/twostraws" target="_blank">@twostraws</a></p>
<p><em><strong><font color=red>æœ¬æ–‡æ˜¯å­¦ä¹ Swiftè¿‡ç¨‹ä¸­ç¿»è¯‘è¯¥ç½‘ç«™çš„å†…å®¹:</font></strong></em>   <a target="_blank" rel="noopener" href="https://www.hackingwithswift.com/">https://www.hackingwithswift.com/</a></p>
<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>è¯¥é¡¹ç›®ä¼šåˆ›å»ºè¿™æ ·ä¸€ä¸ªæ¸¸æˆï¼Œå…ˆå‘ç©å®¶å±•ç¤ºä¸€ä¸ªéšæœºçš„å…«ä¸ªå­—æ¯çš„å•è¯ï¼Œå¹¶è¦æ±‚ä»–ä»¬å°†å…¶æ‹¼æˆå•è¯ã€‚ä¾‹å¦‚ï¼Œå¦‚æœèµ·å§‹è¯æ˜¯â€œalarmingâ€ï¼Œä»–ä»¬å¯èƒ½æ‹¼å†™ä¸ºâ€œalarmâ€ã€â€œringâ€ã€â€œmainâ€ç­‰ã€‚</p>
<p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šé‡åˆ°å¦‚ä½•å¤„ç†Listï¼Œå¦‚ä½•å¤„ç†Stringï¼Œå¦‚ä½•è¯»å–æ–‡ä»¶ï¼ˆä½¿ç”¨Bundleï¼‰ï¼Œä»¥åŠå¦‚ä½•å¤„ç†é”™è¯¯ï¼ˆfatalError()ï¼‰ç­‰é—®é¢˜ã€‚</p>
<p>è¿™æ˜¯æœ€åä¸€ä¸ªç®€å•é¡¹ç›®ï¼Œå¾€åå°±è¦æœ‰æ›´å¤šçš„æŒ‘æˆ˜äº†ï¼</p>
<h2 id="æ›´å¥½åœ°ä½¿ç”¨List"><a href="#æ›´å¥½åœ°ä½¿ç”¨List" class="headerlink" title="æ›´å¥½åœ°ä½¿ç”¨List"></a>æ›´å¥½åœ°ä½¿ç”¨List</h2><p>Listå’ŒFormå‡ ä¹ç›¸åŒï¼Œå®é™…ä¸ŠFormæ˜¯ä¸€ç§ç‰¹æ®Šç±»å‹çš„Listã€‚ä½ å¯ä»¥åœ¨Listä¸­æ·»åŠ é™æ€Textè§†å›¾ï¼Œä¹Ÿå¯ä»¥é€šè¿‡<code>ForEach</code>åŠ¨æ€åœ°åˆ›å»ºè§†å›¾ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å°†äºŒè€…ç»“åˆã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">List</span> &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Hello World&quot;</span>)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Hello World&quot;</span>)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Hello World&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">List</span> &#123;</span><br><span class="line">    <span class="type">ForEach</span>(<span class="number">0</span><span class="operator">..&lt;</span><span class="number">5</span>) &#123;</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Dynamic row <span class="subst">\(<span class="variable">$0</span>)</span>&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">List</span> &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Static row 1&quot;</span>)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Static row 2&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="type">ForEach</span>(<span class="number">0</span><span class="operator">..&lt;</span><span class="number">5</span>) &#123;</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Dynamic row <span class="subst">\(<span class="variable">$0</span>)</span>&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Static row 3&quot;</span>)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Static row 4&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯¹äºListå†…çš„è§†å›¾ï¼Œä¹Ÿå¯ä»¥ç”¨VStackï¼ŒSectionç­‰å°†è§†å›¾ç»“åˆèµ·æ¥ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">List</span> &#123;</span><br><span class="line">    <span class="type">Section</span>(<span class="string">&quot;Section 1&quot;</span>) &#123;</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Static row 1&quot;</span>)</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Static row 2&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">Section</span>(<span class="string">&quot;Section 2&quot;</span>) &#123;</span><br><span class="line">        <span class="type">ForEach</span>(<span class="number">0</span><span class="operator">..&lt;</span><span class="number">5</span>) &#123;</span><br><span class="line">            <span class="type">Text</span>(<span class="string">&quot;Dynamic row <span class="subst">\(<span class="variable">$0</span>)</span>&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">Section</span>(<span class="string">&quot;Section 3&quot;</span>) &#123;</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Static row 3&quot;</span>)</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Static row 4&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯¹äºåˆ—è¡¨çš„å¤–è§‚ï¼Œå¯ä»¥ä½¿ç”¨<code>.listStyle(.grouped)</code>æ¥ä¿®é¥°ã€‚<br>å¦‚æœæ•´ä¸ªåˆ—è¡¨éƒ½æ˜¯ç”±åŠ¨æ€è§†å›¾ç»„æˆçš„ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨ForEachï¼Œè€Œæ˜¯ç›´æ¥åœ¨Liståç¼–å†™ä¸ForEachç±»ä¼¼çš„ä»£ç ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">List</span>(<span class="number">0</span><span class="operator">..&lt;</span><span class="number">5</span>) &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Dynamic row <span class="subst">\(<span class="variable">$0</span>)</span>&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæƒ³åŠ¨æ€åœ°å¼•ç”¨æ•°ç»„ä¸­çš„æ•°æ®å¹¶å±•ç¤ºåœ¨Listä¸­ï¼Œå¯ä»¥ä½¿ç”¨<code>id: /.self</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">ContentView</span>: <span class="title class_">View</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> people <span class="operator">=</span> [<span class="string">&quot;Finn&quot;</span>, <span class="string">&quot;Leia&quot;</span>, <span class="string">&quot;Luke&quot;</span>, <span class="string">&quot;Rey&quot;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">List</span>(people, id: \.<span class="keyword">self</span>) &#123;</span><br><span class="line">            <span class="type">Text</span>(<span class="variable">$0</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//åŒæ ·å¯ä»¥æ··åˆåŠ¨æ€è§†å›¾å’Œé™æ€è§†å›¾</span></span><br><span class="line"><span class="type">List</span> &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Static Row&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="type">ForEach</span>(people, id: \.<span class="keyword">self</span>) &#123;</span><br><span class="line">        <span class="type">Text</span>(<span class="variable">$0</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Static Row&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="åŠ è½½URLæˆ–æœ¬åœ°èµ„æº"><a href="#åŠ è½½URLæˆ–æœ¬åœ°èµ„æº" class="headerlink" title="åŠ è½½URLæˆ–æœ¬åœ°èµ„æº"></a>åŠ è½½URLæˆ–æœ¬åœ°èµ„æº</h2><p>ä½¿ç”¨<code>Bundle.main.url()</code>å¯ä»¥è¯»å–ä¸»åº”ç”¨ç¨‹åºåŒ…ä¸­æ–‡ä»¶çš„URLã€‚å¦‚æœæ–‡ä»¶å­˜åœ¨ï¼Œå®ƒå°†è¢«å‘å›ç»™æˆ‘ä»¬ï¼Œå¦åˆ™æˆ‘ä»¬ä¼šè¿”å›nilï¼Œæ‰€ä»¥è¿™æ˜¯ä¸€ä¸ªå¯é€‰çš„URLã€‚è¯»å–ä¹‹åï¼Œæˆ‘ä»¬ä½¿ç”¨<code>String(contentOfï¼šxxx)</code>æ¥å¤„ç†ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> fileURL <span class="operator">=</span> <span class="type">Bundle</span>.main.url(forResource: <span class="string">&quot;some-file&quot;</span>, withExtension: <span class="string">&quot;txt&quot;</span>) &#123;</span><br><span class="line">    <span class="comment">// we found the file in our bundle!</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> fileContents <span class="operator">=</span> <span class="keyword">try?</span> <span class="type">String</span>(contentsOf: fileURL) &#123;</span><br><span class="line">    <span class="comment">// we loaded the file into a string!</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å¤„ç†å­—ç¬¦ä¸²Strings"><a href="#å¤„ç†å­—ç¬¦ä¸²Strings" class="headerlink" title="å¤„ç†å­—ç¬¦ä¸²Strings"></a>å¤„ç†å­—ç¬¦ä¸²Strings</h2><p>è¿™é‡Œç›´æ¥ä»‹ç»ä¸€äº›å‡½æ•°æˆ–å‚æ•°çš„ä½œç”¨</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```randomElement()```ç”¨äºä»æ•°ç»„ä¸­éšå³è¿”å›ä¸€ä¸ªé¡¹ç›®ã€‚</span><br><span class="line"></span><br><span class="line">```trimmingCharacters(in:)```è¦æ±‚ Swift ä»å­—ç¬¦ä¸²çš„å¼€å¤´å’Œç»“å°¾åˆ é™¤æŸäº›ç±»å‹çš„å­—ç¬¦ï¼Œå¯ä»¥ç”¨æ¥åˆ é™¤å­—ç¬¦ä¸²ä¸­çš„ç©ºæ ¼æˆ–è€…æ¢è¡Œç¬¦ã€‚</span><br><span class="line"></span><br><span class="line">æœ€åè¿˜æœ‰ä¸€ä¸ªæä¾›æ£€æŸ¥å•è¯æ‹¼å†™é”™è¯¯çš„åŠŸèƒ½```UITextChecker```ã€‚å…·ä½“çš„ç”¨æ³•æ˜¯</span><br><span class="line">```swift</span><br><span class="line">let word = &quot;swift&quot;</span><br><span class="line">let checker = UITextChecker()</span><br><span class="line">let range = NSRange(location: 0, length: word.utf16.count)</span><br><span class="line">let misspelledRange = checker.rangeOfMisspelledWord(in: word, range: range, startingAt: 0, wrap: false, language: &quot;en&quot;)</span><br><span class="line">let allGood = misspelledRange.location == NSNotFound</span><br></pre></td></tr></table></figure>
<p>ç”±äºSwiftå’ŒObjective-Cå­˜å‚¨å­—æ¯çš„æ–¹å¼ä¸å¤ªä¸€æ ·ï¼Œè¿™é‡Œ<code>let range = NSRange(location: 0, length: word.utf16.count)</code>æˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªOCå­—ç¬¦ä¸²èŒƒå›´ï¼Œå¹¶åœ¨checkerä¸­ä½¿ç”¨ã€‚<code>UITextChecker()</code>åŒæ ·ä¹Ÿè¿”å›ä¸€ä¸ªç‰¹æ®Šå€¼<code>NSNotFound</code></p>
<h2 id="æ­£å¼æ„å»ºè¿™ä¸ªæ¸¸æˆ"><a href="#æ­£å¼æ„å»ºè¿™ä¸ªæ¸¸æˆ" class="headerlink" title="æ­£å¼æ„å»ºè¿™ä¸ªæ¸¸æˆ"></a>æ­£å¼æ„å»ºè¿™ä¸ªæ¸¸æˆ</h2><p>åœ¨å¼€ç¯‡æåˆ°çš„ç®€ä»‹ä¸­ï¼Œéœ€è¦å±•ç¤ºæ–‡æœ¬ï¼Œä¹Ÿéœ€è¦ç”¨æˆ·è¾“å…¥æ–‡æœ¬å¹¶å°†ç¬¦åˆä¸€å®šæ¡ä»¶ï¼ˆä¸ä¸ºç©ºï¼Œæ‹¼å†™æ­£ç¡®ï¼Œå¹¶ä¸”ä½¿ç”¨ç»™å®šçš„å­—æ¯ç»„åˆå‡ºï¼‰çš„å•è¯æ˜¾ç¤ºå‡ºæ¥ã€‚è¿™éœ€è¦æˆ‘ä»¬æ„å»ºä¸€ä¸‹å‡ ä¸ªå‡½æ•°:</p>
<ul>
<li><code>func startGame()</code>ç”¨äºå¼€å§‹æ–°æ¸¸æˆï¼Œç»™å‡ºä¸€ä¸ªæ–°çš„éšæœºå•è¯</li>
<li><code>func addNewWord()</code>ç”¨äºç”¨æˆ·è¾“å…¥å•è¯åï¼Œå°†è¯¥å•è¯æ·»åŠ è‡³å¾…æ˜¾ç¤ºçš„åˆ—è¡¨ä¸­</li>
<li><code>func isOriginal(word: String)</code>ç”¨äºåˆ¤æ–­å•è¯æ˜¯å¦é‡å¤</li>
<li><code>func isPossible(word: String)</code>ç”¨äºåˆ¤æ–­ç”¨æˆ·è¾“å…¥çš„å•è¯æ˜¯å¦æ˜¯ä»ç»™å®šçš„éšè®°å•è¯ä¸­é€‰å®šå­—æ¯çš„</li>
<li><code>func isReal(word: String)</code>ç”¨äºåˆ¤æ–­å•è¯æ‹¼å†™çš„æ˜¯å¦æ­£ç¡®ï¼ˆæ˜¯å¦æ˜¯ä¸€ä¸ªå•è¯ï¼‰</li>
<li><code>func wordError(title: String, message: String)</code>ç”¨äºå¤„ç†é”™è¯¯æƒ…å†µã€‚</li>
</ul>
<p>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">addNewWord</span>() &#123;</span><br><span class="line">    <span class="comment">// lowercase and trim the word, to make sure we don&#x27;t add duplicate words with case differences</span></span><br><span class="line">    <span class="keyword">let</span> answer <span class="operator">=</span> newWord.lowercased().trimmingCharacters(in: .whitespacesAndNewlines)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// exit if the remaining string is empty</span></span><br><span class="line">    <span class="keyword">guard</span> answer.count <span class="operator">&gt;</span> <span class="number">0</span> <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// extra validation to come</span></span><br><span class="line"></span><br><span class="line">    usedWords.insert(answer, at: <span class="number">0</span>)</span><br><span class="line">    newWord <span class="operator">=</span> <span class="string">&quot;&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> <span class="title function_">startGame</span>() &#123;</span><br><span class="line">    <span class="comment">// 1. Find the URL for start.txt in our app bundle</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> startWordsURL <span class="operator">=</span> <span class="type">Bundle</span>.main.url(forResource: <span class="string">&quot;start&quot;</span>, withExtension: <span class="string">&quot;txt&quot;</span>) &#123;</span><br><span class="line">        <span class="comment">// 2. Load start.txt into a string</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> startWords <span class="operator">=</span> <span class="keyword">try?</span> <span class="type">String</span>(contentsOf: startWordsURL) &#123;</span><br><span class="line">            <span class="comment">// 3. Split the string up into an array of strings, splitting on line breaks</span></span><br><span class="line">            <span class="keyword">let</span> allWords <span class="operator">=</span> startWords.components(separatedBy: <span class="string">&quot;<span class="subst">\n</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 4. Pick one random word, or use &quot;silkworm&quot; as a sensible default</span></span><br><span class="line">            rootWord <span class="operator">=</span> allWords.randomElement() <span class="operator">??</span> <span class="string">&quot;silkworm&quot;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// If we are here everything has worked, so we can exit</span></span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// If were are *here* then there was a problem â€“ trigger a crash and report the error</span></span><br><span class="line">    <span class="built_in">fatalError</span>(<span class="string">&quot;Could not load start.txt from bundle.&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> <span class="title function_">isOriginal</span>(<span class="params">word</span>: <span class="type">String</span>) -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="operator">!</span>usedWords.contains(word)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> <span class="title function_">isPossible</span>(<span class="params">word</span>: <span class="type">String</span>) -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> tempWord <span class="operator">=</span> rootWord</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> letter <span class="keyword">in</span> word &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> pos <span class="operator">=</span> tempWord.firstIndex(of: letter) &#123;</span><br><span class="line">            tempWord.remove(at: pos)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> <span class="title function_">isReal</span>(<span class="params">word</span>: <span class="type">String</span>) -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> checker <span class="operator">=</span> <span class="type">UITextChecker</span>()</span><br><span class="line">    <span class="keyword">let</span> range <span class="operator">=</span> <span class="type">NSRange</span>(location: <span class="number">0</span>, length: word.utf16.count)</span><br><span class="line">    <span class="keyword">let</span> misspelledRange <span class="operator">=</span> checker.rangeOfMisspelledWord(in: word, range: range, startingAt: <span class="number">0</span>, wrap: <span class="literal">false</span>, language: <span class="string">&quot;en&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> misspelledRange.location <span class="operator">==</span> <span class="type">NSNotFound</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> <span class="title function_">wordError</span>(<span class="params">title</span>: <span class="type">String</span>, <span class="params">message</span>: <span class="type">String</span>) &#123;</span><br><span class="line">    errorTitle <span class="operator">=</span> title</span><br><span class="line">    errorMessage <span class="operator">=</span> message</span><br><span class="line">    showingError <span class="operator">=</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æœ€åä½¿ç”¨ä»¥ä¸‹ä»£ç æ¥åˆ¤æ–­ç”¨æˆ·è¾“å…¥æ˜¯å¦ç¬¦åˆè¦æ±‚ï¼Œé”™è¯¯å°†æ˜¾ç¤ºå¯¹åº”çš„æç¤ºæ¡†ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">guard</span> isOriginal(word: answer) <span class="keyword">else</span> &#123;</span><br><span class="line">    wordError(title: <span class="string">&quot;Word used already&quot;</span>, message: <span class="string">&quot;Be more original&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">guard</span> isPossible(word: answer) <span class="keyword">else</span> &#123;</span><br><span class="line">    wordError(title: <span class="string">&quot;Word not possible&quot;</span>, message: <span class="string">&quot;You can&#x27;t spell that word from &#x27;<span class="subst">\(rootWord)</span>&#x27;!&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">guard</span> isReal(word: answer) <span class="keyword">else</span> &#123;</span><br><span class="line">    wordError(title: <span class="string">&quot;Word not recognized&quot;</span>, message: <span class="string">&quot;You can&#x27;t just make them up, you know!&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æœ€ç»ˆæ‰€æœ‰ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ContentView</span>: <span class="title class_">View</span> &#123;</span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> usedWords <span class="operator">=</span> [<span class="type">String</span>]()</span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> rootWord <span class="operator">=</span> <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> newWord <span class="operator">=</span> <span class="string">&quot;&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//alarm</span></span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> errorTitle <span class="operator">=</span> <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> errorMessage <span class="operator">=</span> <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> showingError <span class="operator">=</span> <span class="literal">false</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">NavigationStack</span>&#123;</span><br><span class="line">            <span class="type">List</span>&#123;</span><br><span class="line">                <span class="type">Section</span> &#123;</span><br><span class="line">                    <span class="type">TextField</span>(<span class="string">&quot;Enter your word&quot;</span>, text: <span class="variable">$newWord</span>)</span><br><span class="line">                        .textInputAutocapitalization(.never)</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">                <span class="type">Section</span> &#123;</span><br><span class="line">                    <span class="type">ForEach</span>(usedWords, id: \.<span class="keyword">self</span>)&#123; word <span class="keyword">in</span></span><br><span class="line">                        <span class="type">HStack</span>&#123;</span><br><span class="line">                            <span class="type">Image</span>(systemName: <span class="string">&quot;<span class="subst">\(word.count)</span>.circle&quot;</span>)</span><br><span class="line">                            <span class="type">Text</span>(word)</span><br><span class="line">                        &#125;</span><br><span class="line">                        </span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            .navigationTitle(rootWord)</span><br><span class="line">            .onSubmit(addNewWord)</span><br><span class="line">            .onAppear(perform:startGame)</span><br><span class="line">            .alert(errorTitle, isPresented: <span class="variable">$showingError</span>) &#123;</span><br><span class="line">                <span class="type">Button</span>(<span class="string">&quot;OK&quot;</span>) &#123; &#125;</span><br><span class="line">            &#125; message: &#123;</span><br><span class="line">                <span class="type">Text</span>(errorMessage)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">startGame</span>() &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> startWordURL <span class="operator">=</span> <span class="type">Bundle</span>.main.url(forResource: <span class="string">&quot;start&quot;</span>, withExtension: <span class="string">&quot;txt&quot;</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">let</span> startWords <span class="operator">=</span> <span class="keyword">try?</span> <span class="type">String</span>(contentsOf: startWordURL) &#123;</span><br><span class="line">                <span class="keyword">let</span> allWords <span class="operator">=</span> startWords.components(separatedBy: <span class="string">&quot;<span class="subst">\n</span>&quot;</span>)</span><br><span class="line">                rootWord <span class="operator">=</span> allWords.randomElement() <span class="operator">??</span> <span class="string">&quot;silkworm&quot;</span></span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">fatalError</span>(<span class="string">&quot;Could not load start.txt from bundle.&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">addNewWord</span>() &#123;</span><br><span class="line">        <span class="keyword">let</span> answer <span class="operator">=</span> newWord.lowercased().trimmingCharacters(in: .whitespacesAndNewlines)</span><br><span class="line">        <span class="keyword">guard</span> answer.count <span class="operator">&gt;</span> <span class="number">0</span> <span class="keyword">else</span> &#123;<span class="keyword">return</span>&#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">guard</span> isOriginal(word: answer) <span class="keyword">else</span> &#123;</span><br><span class="line">            wordError(title: <span class="string">&quot;Word used already&quot;</span>, message: <span class="string">&quot;Be more original&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">guard</span> isPossible(word: answer) <span class="keyword">else</span> &#123;</span><br><span class="line">            wordError(title: <span class="string">&quot;Word not possible&quot;</span>, message: <span class="string">&quot;You can&#x27;t spell that word from &#x27;<span class="subst">\(rootWord)</span>&#x27;!&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">guard</span> isReal(word: answer) <span class="keyword">else</span> &#123;</span><br><span class="line">            wordError(title: <span class="string">&quot;Word not recognized&quot;</span>, message: <span class="string">&quot;You can&#x27;t just make them up, you know!&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        withAnimation &#123;</span><br><span class="line">            usedWords.insert(answer, at: <span class="number">0</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        newWord <span class="operator">=</span> <span class="string">&quot;&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">isOriginal</span>(<span class="params">word</span>: <span class="type">String</span>) -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="operator">!</span>usedWords.contains(word)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">isPossible</span>(<span class="params">word</span>: <span class="type">String</span>) -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> tempWord <span class="operator">=</span> rootWord</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> letter <span class="keyword">in</span> word &#123;</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">let</span> pos <span class="operator">=</span> tempWord.firstIndex(of: letter) &#123;</span><br><span class="line">                tempWord.remove(at: pos)</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">isReal</span>(<span class="params">word</span>: <span class="type">String</span>) -&gt; <span class="type">Bool</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> checker <span class="operator">=</span> <span class="type">UITextChecker</span>()</span><br><span class="line">        <span class="keyword">let</span> range <span class="operator">=</span> <span class="type">NSRange</span>(location: <span class="number">0</span>, length: word.utf16.count)</span><br><span class="line">        <span class="keyword">let</span> misspelledRange <span class="operator">=</span> checker.rangeOfMisspelledWord(in: word, range: range, startingAt: <span class="number">0</span>, wrap: <span class="literal">false</span>, language: <span class="string">&quot;en&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> misspelledRange.location <span class="operator">==</span> <span class="type">NSNotFound</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">wordError</span>(<span class="params">title</span>: <span class="type">String</span>, <span class="params">message</span>: <span class="type">String</span>) &#123;</span><br><span class="line">        errorTitle <span class="operator">=</span> title</span><br><span class="line">        errorMessage <span class="operator">=</span> message</span><br><span class="line">        showingError <span class="operator">=</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#<span class="type">Preview</span> &#123;</span><br><span class="line">    <span class="type">ContentView</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
        </div>

        <footer class="post-footer">
            <div class="post-nav">
                
                    <div class="post-nav-prev">
                        <span>ä¸Šä¸€ç¯‡</span>
                        <a href="/article/57245.html">ã€Hacking With Swiftã€‘project6_Animation</a>
                    </div>
                
                
                    <div class="post-nav-next">
                        <span>ä¸‹ä¸€ç¯‡</span>
                        <a href="/article/5898.html">ã€Hacking With Swiftã€‘Project4_BetterRest</a>
                    </div>
                
            </div>
        </footer>

        
            <div class="post-comments">
                <h3 class="comments-title">è¯„è®º</h3>
                <div id="waline"></div>
            </div>
        
    </article>
</div>


    <script type="module">
        import { init } from 'https://unpkg.com/@waline/client@v3/dist/waline.js';

        init({
            el: '#waline',
            serverURL: 'https://walinecomments.five2fire.top',
            dark: 'auto',
            lang: 'zh-CN',
            pageview: true,
            comment: true,
            emoji: ["https://unpkg.com/@waline/emojis@1.1.0/weibo","https://unpkg.com/@waline/emojis@1.1.0/bilibili"]
        });
    </script>
    <link rel="stylesheet" href="https://unpkg.com/@waline/client@v3/dist/waline.css" />


            </main>
        </div>
        
    </div>
    
<script src="/js/main.js"></script>

</body>
</html>
